[pytest]
# Configure pytest-asyncio to strict mode so it only manages tests explicitly marked
# with @pytest.mark.asyncio, avoiding nested event loops with other async frameworks.
asyncio_mode = strict

# Limit default collection to top-level tests to avoid infra subproject test conflicts
testpaths =
    tests
markers =
    e2e: End-to-end tests requiring the Streamlit app
    skip_precommit: Tests that cause event loop conflicts in pre-commit hooks
